<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ğŸš¨ ë¬´ë“±ì‚° ì‹¤ì‹œê°„ ìœ„ì¹˜êµ¬ì¡° ì‹ ê³ í˜„í™©</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; font-family:Arial; background:#111; color:#fff; }
header { background:#b71c1c; padding:15px; text-align:center; font-size:20px; }
.container { padding:15px; }
.card {
  background:#1e1e1e;
  padding:12px;
  margin-bottom:10px;
  border-radius:6px;
}
.time { color:#ffcc00; font-size:14px; }
.phone { color:#4fc3f7; }
.maplink { color:#81c784; text-decoration:none; }
</style>
</head>

<body>

<header>ğŸš¨ ë¬´ë“±ì‚° ì‹¤ì‹œê°„ ìœ„ì¹˜êµ¬ì¡° ì‹ ê³ í˜„í™©</header>
<div class="container" id="listArea">
ë¡œë”©ì¤‘...
</div>

<script>

const API_URL = "https://script.google.com/macros/s/AKfycbxN0drmcVnMXm3ozh7Yi_5TPRngcraDcOiHnyjPZca3spWFfU74AJMP4a4U8Nt9pnOM/exec";

async function loadData() {
  try {
    const res = await fetch(API_URL);
    const data = await res.json();

    const area = document.getElementById("listArea");

    if (!data.length) {
      area.innerHTML = "í˜„ì¬ ì ‘ìˆ˜ëœ ì‹ ê³ ê°€ ì—†ìŠµë‹ˆë‹¤.";
      return;
    }

    area.innerHTML = "";

    data.reverse().forEach(item => {

      const div = document.createElement("div");
      div.className = "card";

      div.innerHTML = `
        <div class="time">ğŸ•’ ${new Date(item.time).toLocaleString()}</div>
        ğŸ“ ìœ„ë„: ${item.lat} <br>
        ğŸ“ ê²½ë„: ${item.lng} <br>
        ğŸ“ <span class="phone">${item.phone || "ë²ˆí˜¸ì—†ìŒ"}</span><br>
        ğŸ—º <a class="maplink" href="${item.mapURL}" target="_blank">ì§€ë„ë³´ê¸°</a>
      `;

      area.appendChild(div);
    });

  } catch (err) {
    document.getElementById("listArea").innerHTML =
      "ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨";
  }
}

loadData();

// ğŸ” 10ì´ˆë§ˆë‹¤ ìë™ ìƒˆë¡œê³ ì¹¨
setInterval(loadData, 10000);

</script>

</body>
</html>
